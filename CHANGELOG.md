# 変更履歴

## 2025-09-16
- **README更新**: ECRベースのデプロイ手順に更新
- **behaviorフィールド追加**: dashboardテーブルへの保存対応

## 2025-09-11 - バージョン 3.4.0
- **新エンドポイント追加**: `/analyze-dashboard-summary` - dashboard_summaryテーブルと連携
- **機能追加**: dashboard_summaryテーブルのpromptフィールドからプロンプトを取得し、ChatGPT分析後にanalysis_resultフィールドに保存
- **Supabaseクライアント拡張**: dashboard_summary用のメソッドを追加
- **本番環境デプロイ完了**: EC2環境で正常動作確認済み

## 2025-09-05 - バージョン 3.3.2
- **OpenAIモデル変更**: `o4-mini` → `gpt-5-nano` に変更
- **検証用モデル設定**: モデル切り替えによる性能評価を実施
- **READMEモデル情報追加**: 使用モデル情報セクションを新設

## 2025-08-29 - バージョン 3.3.1
- **watchme-networkインフラ管理体制への移行**: docker-compose.ymlに`external: true`設定を追加
- **ネットワーク設定の明示化**: 本番環境で既に接続済みのwatchme-networkを設定ファイルに反映
- **systemd依存関係の追加**: watchme-infrastructure.serviceへの依存を設定（watchme-server-configs）
- **安定性向上**: 全マイクロサービス間の通信を統一ネットワークで保証

## 2025-08-01 - バージョン 3.3.0
- **日付処理の改善**: 音声ファイルの実際の記録日時を優先使用するように修正
- **データ整合性の向上**: `vibe_whisper_prompt`テーブルの日付を真実のデータとして扱う
- **エラーハンドリング強化**: 日付パラメータを必須化し、欠落時は明確なエラーを返す
- **トレーサビリティ向上**: 検索日付と実データ日付の両方をログに記録

## 2025-07-29 - バージョン 3.2.0
- **モデル指定方法の変更**: デフォルト値を削除し、環境変数での明示的な指定を必須化
- **現在のモデル**: `o4-mini`を使用
- **エラーハンドリング改善**: 環境変数未設定時に明確なエラーメッセージを表示

## 2025-07-15 - バージョン 3.1.0
- **外部URL公開**: `https://api.hey-watch.me/vibe-scorer/` で外部アクセス可能
- **Nginxリバースプロキシ設定**: SSL/HTTPS対応、CORS設定完了
- **ヘルスチェック修正**: Dockerfileにcurlを追加してヘルスチェック問題を解決

## 2025-07-14 - バージョン 3.0.0
- **重要な変更**: ローカルモード・Vault連携機能を完全削除
- データソースをSupabase統合に一本化
- EC2_BASE_URL環境変数を削除
- requirements.txtの依存関係を修正（httpx==0.24.1, gotrue==1.3.0を固定）
- Docker/systemdによる本番環境デプロイメント方法を追加